<!DOCTYPE html>
<script src='https://d3js.org/d3.v5.min.js'></script>

<style> 
#tooltip {
  opacity: 0;
  position: absolute;
  text-align: center;
  width: 60px; height: 40px;
  background: white;
  border: 0px;
  }
</style>

<html>
<body>
   
<p>Here is the data: <span id="data"></span></p>

<svg class="chart" width = 1000 height = 1000></svg>
<div id="tooltip"></div>
 
<p>  
<a href="https://fplinke.github.io/2012.html">2012</a>
<button onclick="location.href='https://fplinke.github.io/2012.html';">2012</button>
</p>
</body>
  
<script>
var width = 1000, height = 1000;
var data = [4,8,15,16,23,42];
var x = d3.scaleLinear().domain([0,30]).range([0,width])
var y = d3.scaleLinear().domain([0,120]).range([height,0])
var tooltip = d3.select("#tooltip");
var crange = ["rgb(227,212,173)", "rbg(19,39,79)", "rbg(223,70,1)", "rbg(189,48,57)", "rbg(14,51,134)", "rbg(196,206,212)", "rbg(198,1,31)", "rbg(12,35,64)", "rbg(51,0,111)", "rbg(250,70,22)", "rbg(244,145,30)", "rbg(0,70,135)", "rbg(134,38,51)", "rbg(0,90,156)", "rbg(0,163,224)", "rbg((255,197,47)", "rbg(0,43,92)", "rbg((0,45,114)", "rbg(196,206,211)", "rbg(0,56,49)", "rbg(232,24,40)", "rbg(39,37,31)", "rbg(47,36,29)", "rbg(0,92,92)", "rbg(239,209,159)", "rbg(196,30,58)", "rbg(143,188,230)", "rbg(0,50,120)", "rbg(19,74,142)", "rbg(171,0,3)"];
  
document.getElementById("data").innerHTML = data;
d3.csv('https://fplinke.github.io/mlb-stats-2010to2019-clean.csv').then(function(mlbdata){
  var data2012 = []
  for (var i = 0; i < mlbdata.length; i++) {
    if (mlbdata[i].Year == 2012) {
       data2012.push(mlbdata[i].Wtm)  
    }
    }
  console.log(data2012)
  console.log(crange)
 d3.select(".chart")
  .selectAll("rect")
  .data(data2012)
  .enter()
  .append("rect")
  .attr("width",33)
  .attr("height",function(d) { return height - y(d); })
  .attr("x",function(d,i) { return x(i); })
  .attr("y",function(d) {return y(d); })
  .style("fill",function(d,i) { return crange[i]; })
  .on("mouseover",function(d,i) {
    tooltip.style("opacity", 1)
    .style("left",(d3.event.pageX)+"px")
    .style("top",(d3.event.pageY)+"px")
    .html("Item #"+i+" is "+d);
  })
  .on("mouseout",function() { tooltip.style("opacity", 0) })
});
</script>  
</html>

